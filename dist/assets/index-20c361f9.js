import{n as g,f as b,q as j,o as f,p as q,r as p,w as m,j as e,i as o,x as v,y as C,T as U}from"./index-4247d441.js";import{I as N}from"./IconCheck-8b7f6527.js";import{I as A,T as F,a as u}from"./Table2-a8ed2a9c.js";import{u as y}from"./use-form-72b41712.js";import{T as n}from"./TextInput-4365724b.js";import{S as h}from"./dayjs.min-988a53ac.js";import{I as z,a as L,b as _,T as k}from"./IconTrash-b7c3088c.js";import{I as E,D,a as M,b as $,F as J}from"./IconUser-d129fe0b.js";import"./get-floating-position-0a85a709.js";import"./IconChevronRight-47a5dcfe.js";async function Q({data:s}){return(await g.post("/program",s)).data}function V({config:s}={}){return b(Q,{...s,onSuccess:(...a)=>{j.invalidateQueries(["programs"]),f({message:a[0].message,color:"green",icon:N({})}),s!=null&&s.onSuccess&&s.onSuccess(...a)}})}async function B(){return(await g.get("/program")).data}function de({config:s}={}){return q({...s,queryKey:["programs"],queryFn:()=>B()})}async function R({id_program:s,data:a}){return(await g.put(`/program/${s}`,a)).data}function H({config:s}={}){return b(R,{...s,onSuccess:(...a)=>{j.invalidateQueries(["programs"]),f({message:a[0].message,color:"green",icon:N({})}),s!=null&&s.onSuccess&&s.onSuccess(...a)}})}async function K({id:s}){return(await g.delete(`/program/${s}`)).data}function O({config:s}={}){return b(K,{...s,onSuccess:(...a)=>{j.invalidateQueries(["programs"]),f({message:a[0].message,color:"green",icon:N({})}),s!=null&&s.onSuccess&&s.onSuccess(...a)}})}const i=[{id:"no",label:"No"},{id:"nama_program",label:"Nama Program"},{id:"jenis",label:"Jenis"},{id:"deskripsi",label:"Deskripsi"},{id:"",label:"Opsi"}],G=({data:s})=>{const[a,t]=p.useState(""),[c,d]=p.useState([]),{mutateAsync:l,isLoading:x}=O({config:{onSuccess(){m()}}});p.useEffect(()=>{s&&d(s.map((r,I)=>({...r,no:I+1})))},[s]);const P=r=>{t(r.target.value)};function S(){v({title:e.jsx("div",{className:"text-2xl font-bold text-slate-700 px-3 pt-3",children:"Tambah Program"}),children:e.jsx(X,{onSuccess:m})})}function w(r){v({title:e.jsx("div",{className:"text-2xl font-bold text-slate-700 px-3 pt-3",children:"Update Program"}),children:e.jsx(Z,{onSuccess:m,program:r})})}function T(r){C({title:"Hapus Program",children:e.jsx(U,{size:"sm",children:"Apakah anda yakin untuk menghapus program ini?"}),centered:!0,closeOnConfirm:!1,confirmProps:{color:"red"},onConfirm:async()=>{await l({id:r})}})}return e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"pb-3 flex gap-x-5 mb-3",children:[e.jsx(n,{className:"font-medium ",placeholder:"Cari Program",onChange:P,icon:e.jsx(A,{size:"23",className:"text-green-800"})}),e.jsx(o,{variant:"default",leftIcon:e.jsx(z,{size:"28",className:"text-green-800"}),className:"font-medium",onClick:S,children:"Tambah Program"})]}),e.jsx(F,{header:i,items:c,searchTerm:a,renderItem:r=>e.jsxs("tr",{className:"",children:[e.jsx("td",{className:"py-5 px-4 font-normal text-sm text-gray-700",children:r[i[0].id]},i[0].id),e.jsx("td",{className:"py-5 px-4 font-normal text-sm text-gray-700",children:r[i[1].id]},i[1].id),e.jsx("td",{className:"py-5 px-4 font-normal text-sm text-gray-700",children:r[i[2].id]},i[2].id),e.jsx("td",{className:"py-5 px-4 font-normal text-sm text-gray-700 min-w-[20rem] !whitespace-normal",children:r[i[3].id]},i[3].id),e.jsxs("td",{className:"flex items-center justify-center gap-x-3 py-5 w-40 ",children:[e.jsx(L,{onClick:()=>w(r),className:"border-2 rounded-md text-orange-500 hover:bg-orange-50 cursor-pointer"}),e.jsx(_,{onClick:()=>T(r.id_program),className:"border-2 rounded-md text-red-500 hover:bg-red-50 cursor-pointer"})]})]},r.id)})]})},xe=G,W=({onSuccess:s})=>{const a=y({initialValues:{nama_program:"",jenis:"",deskripsi:""}}),{mutateAsync:t,isLoading:c}=V({config:{onError({response:l}){a.setErrors((l==null?void 0:l.data).messages)},onSuccess(){m(),s()}}}),d=a.onSubmit(async l=>{await t({data:l})});return e.jsxs("form",{className:"relative px-3 pb-5",onSubmit:d,children:[e.jsxs("div",{className:"grid gap-y-4 lg:space-y-0",children:[e.jsx(n,{label:"Nama Program",required:!0,...a.getInputProps("nama_program")}),e.jsx(h,{label:"Jenis",placeholder:"",required:!0,data:[{value:"umum",label:"Umum"},{value:"tahfiz",label:"Tahfiz"}],...a.getInputProps("jenis")}),e.jsx(k,{label:"Deskripsi",required:!0,...a.getInputProps("deskripsi")})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[e.jsx(o,{type:"button",variant:"default",onClick:()=>m(),loading:c,children:"Tutup"}),e.jsx(o,{type:"submit",loading:c,className:"bg-green-900 hover:bg-green-800",children:"Simpan"})]})]})},X=W,Y=({program:s,onSuccess:a})=>{const t=y({initialValues:{nama_program:s.nama_program,jenis:s.jenis,deskripsi:s.deskripsi}}),{mutateAsync:c,isLoading:d}=H({config:{onError({response:x}){t.setErrors((x==null?void 0:x.data).messages)},onSuccess(){m(),a()}}}),l=t.onSubmit(async x=>{await c({id_program:s.id_program,data:{...x}})});return e.jsxs("form",{className:"relative px-3 pb-5",onSubmit:l,children:[e.jsxs("div",{className:"grid gap-y-4 lg:space-y-0",children:[e.jsx(n,{label:"Nama Program",required:!0,...t.getInputProps("nama_program")}),e.jsx(h,{label:"Jenis",placeholder:"",required:!0,data:[{value:"Umum",label:"Umum"},{value:"Tahfiz",label:"Tahfiz"}],...t.getInputProps("jenis")}),e.jsx(k,{label:"Deskripsi",required:!0,...t.getInputProps("deskripsi")})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 mt-4",children:[e.jsx(o,{type:"button",variant:"default",onClick:()=>m(),loading:d,children:"Tutup"}),e.jsx(o,{type:"submit",loading:d,className:"bg-green-900",children:"Simpan"})]})]})},Z=Y,ee=()=>{const[s,a]=p.useState(null);return e.jsx("main",{className:"mt-16 max-w-8xl  mx-auto px-5 sm:px-7 lg:px-11",children:e.jsx("section",{className:"flex flex-col lg:flex-row mt-5 gap-y-5",children:e.jsxs("div",{className:"w-full mt-5",children:[e.jsx("div",{className:"text-black text-[40px] font-bold",children:"Profil dan Pengaturan"}),e.jsxs(u,{defaultValue:"gallery",color:"dark",children:[e.jsx(u.List,{className:"space-x-10",children:e.jsx(u.Tab,{value:"gallery",className:"text-sm font-semibold px-0",children:"Profil Pengguna"})}),e.jsxs(u.Panel,{value:"gallery",pt:"xs",children:[e.jsxs("div",{className:"my-5 space-y-7",children:[e.jsxs("div",{className:"flex  space-x-4  md:space-x-16 border-b pb-10",children:[e.jsx("img",{className:"w-[170px] h-[226px] rounded-[10px]",src:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?cs=srgb&dl=pexels-pixabay-220453.jpg&fm=jpg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-black text-4xl font-semibold",children:"Halimatus Saâ€™diyah"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-3 mt-5",children:[e.jsx("div",{className:"text-black text-sm font-normal",children:"User Id"}),e.jsxs("div",{className:"text-black text-sm font-normal",children:[e.jsx("span",{className:"pr-1",children:":"})," #6673"]}),e.jsx("div",{className:"text-black text-sm font-normal",children:"Tingkat Pendidikan :"}),e.jsxs("div",{className:"text-black text-sm font-normal",children:[e.jsx("span",{className:"pr-1",children:":"})," Universitas"]}),e.jsx("div",{className:"text-black text-sm font-normal",children:"Nama Sekolah / Universitas :"}),e.jsxs("div",{className:"text-black text-sm font-normal",children:[e.jsx("span",{className:"pr-1",children:":"})," Universitas Lambung Mangkurat"]})]}),e.jsx(o,{className:"bg-sky-900 hover:bg-sky-800 mt-5",type:"submit",radius:"md",size:"xs",children:"Ganti Foto"})]})]}),e.jsxs("div",{id:"form-profile",className:"grid lg:grid-cols-2 gap-y-8 gap-x-12",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"flex items-center gap-x-1 mb-4",children:[e.jsx(E,{className:"w-5 -ml-1"}),e.jsx("div",{className:"text-black text-xs font-bold",children:"Biodata Pribadi"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{label:"Nama Lengkap",radius:"xs",required:!0,withAsterisk:!1}),e.jsx(h,{label:"Jenis Kelamin",radius:"xs",required:!0,withAsterisk:!1,data:[{value:"man",label:"Laki-laki"},{value:"women",label:"Perempuan"}]}),e.jsx(n,{label:"Tempat Lahir",radius:"xs",required:!0,withAsterisk:!1}),e.jsx(D,{value:s,onChange:a,label:"Tanggal Lahir",mx:"auto",rightSection:e.jsx(M,{size:"1rem",className:"text-gray-600"})}),e.jsx(n,{label:"No Telepon",radius:"xs",required:!0,withAsterisk:!1})]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"flex items-center gap-x-1 mb-4",children:[e.jsx($,{className:"w-5 -ml-1"}),e.jsx("div",{className:"text-black text-xs font-bold",children:"Riwayat Pendidikan"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{label:"Tingkat Pendidikan",radius:"xs",required:!0,withAsterisk:!1,data:[{value:"man",label:"Sarjana"},{value:"women",label:"tidak berpendidikan"}]}),e.jsx(n,{label:"Nama Sekolah/Universitas",radius:"xs",required:!0,withAsterisk:!1}),e.jsx(n,{label:"NISN/NIM",radius:"xs",required:!0,withAsterisk:!1}),e.jsx(J,{label:"Foto Profile",withAsterisk:!1,required:!0})]})]})]})]}),e.jsxs("div",{className:"mt-10 flex gap-x-3 justify-end mb-20",children:[e.jsx(o,{className:"bg-white hover:bg-slate-200 text-black border border-black",type:"submit",radius:"md",children:"Batal"}),e.jsx(o,{className:"bg-sky-900 hover:bg-sky-800",type:"submit",radius:"md",children:"Simpan"})]})]})]})]})})})},ue=ee;export{ue as Profile,X as ProgramCreateForm,xe as ProgramTable,Z as ProgramUpdateForm,Q as createProgram,K as deleteProgram,B as getPrograms,R as updateProgram,V as useCreateProgram,O as useDeleteProgram,de as usePrograms,H as useUpdateProgram};
