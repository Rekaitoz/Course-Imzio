import{K as me,r as p}from"./index-4247d441.js";function Ge(r,e,t){return Math.min(Math.max(r,e),t)}var Ee=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,o,c;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(c=Object.keys(e),s=c.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[o]))return!1;for(o=s;o--!==0;){var i=c[o];if(!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t};const X=me(Ee);function k(r){return r===null||typeof r!="object"?{}:Object.keys(r).reduce((e,t)=>{const s=r[t];return s!=null&&s!==!1&&(e[t]=s),e},{})}var ve=Object.defineProperty,z=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,G=(r,e,t)=>e in r?ve(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Se=(r,e)=>{for(var t in e||(e={}))we.call(e,t)&&G(r,t,e[t]);if(z)for(var t of z(e))$e.call(e,t)&&G(r,t,e[t]);return r};function ce(r,e){if(e===null||typeof e!="object")return{};const t=Se({},e);return Object.keys(e).forEach(s=>{s.includes(`${String(r)}.`)&&delete t[s]}),t}const he="__MANTINE_FORM_INDEX__";function J(r,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(r.replace(/[.][0-9]/g,`.${he}`)):!1:!1}function Q(r,e,t){typeof t.value=="object"&&(t.value=w(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||e==="__proto__"?Object.defineProperty(r,e,t):r[e]=t.value}function w(r){if(typeof r!="object")return r;var e=0,t,s,o,c=Object.prototype.toString.call(r);if(c==="[object Object]"?o=Object.create(r.__proto__||null):c==="[object Array]"?o=Array(r.length):c==="[object Set]"?(o=new Set,r.forEach(function(i){o.add(w(i))})):c==="[object Map]"?(o=new Map,r.forEach(function(i,a){o.set(w(a),w(i))})):c==="[object Date]"?o=new Date(+r):c==="[object RegExp]"?o=new RegExp(r.source,r.flags):c==="[object DataView]"?o=new r.constructor(w(r.buffer)):c==="[object ArrayBuffer]"?o=r.slice(0):c.slice(-6)==="Array]"&&(o=new r.constructor(r)),o){for(s=Object.getOwnPropertySymbols(r);e<s.length;e++)Q(o,s[e],Object.getOwnPropertyDescriptor(r,s[e]));for(e=0,s=Object.getOwnPropertyNames(r);e<s.length;e++)Object.hasOwnProperty.call(o,t=s[e])&&o[t]===r[t]||Q(o,t,Object.getOwnPropertyDescriptor(r,t))}return o||r}function ie(r){return typeof r!="string"?[]:r.split(".")}function D(r,e,t){const s=ie(r);if(s.length===0)return t;const o=w(t);if(s.length===1)return o[s[0]]=e,o;let c=o[s[0]];for(let i=1;i<s.length-1;i+=1){if(c===void 0)return o;c=c[s[i]]}return c[s[s.length-1]]=e,o}function j(r,e){const t=ie(r);if(t.length===0||typeof e!="object"||e===null)return;let s=e[t[0]];for(let o=1;o<t.length&&s!==void 0;o+=1)s=s[t[o]];return s}function U(r){const e=k(r);return{hasErrors:Object.keys(e).length>0,errors:e}}function M(r,e,t="",s={}){return typeof r!="object"||r===null?s:Object.keys(r).reduce((o,c)=>{const i=r[c],a=`${t===""?"":`${t}.`}${c}`,u=j(a,e);let d=!1;return typeof i=="function"&&(o[a]=i(u,e,a)),typeof i=="object"&&Array.isArray(u)&&(d=!0,u.forEach((_,b)=>M(i,e,`${a}.${b}`,o))),typeof i=="object"&&typeof u=="object"&&u!==null&&(d||M(i,e,a,o)),o},s)}function T(r,e){return U(typeof r=="function"?r(e):M(r,e))}function C(r,e,t){if(typeof r!="string")return{hasError:!1,error:null};const s=T(e,t),o=Object.keys(s.errors).find(c=>r.split(".").every((i,a)=>i===c.split(".")[a]));return{hasError:!!o,error:o?s.errors[o]:null}}function Ae(r,{from:e,to:t},s){const o=j(r,s);if(!Array.isArray(o))return s;const c=[...o],i=o[e];return c.splice(e,1),c.splice(t,0,i),D(r,c,s)}var Ie=Object.defineProperty,Y=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Z=(r,e,t)=>e in r?Ie(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ve=(r,e)=>{for(var t in e||(e={}))Ce.call(e,t)&&Z(r,t,e[t]);if(Y)for(var t of Y(e))De.call(e,t)&&Z(r,t,e[t]);return r};function Ne(r,{from:e,to:t},s){const o=`${r}.${e}`,c=`${r}.${t}`,i=Ve({},s);return Object.keys(s).every(a=>{let u,d;if(a.startsWith(o)&&(u=a,d=a.replace(o,c)),a.startsWith(c)&&(u=a.replace(c,o),d=a),u&&d){const _=i[u],b=i[d];return b===void 0?delete i[u]:i[u]=b,_===void 0?delete i[d]:i[d]=_,!1}return!0}),i}function Re(r,e,t){const s=j(r,t);return Array.isArray(s)?D(r,s.filter((o,c)=>c!==e),t):t}var Fe=Object.defineProperty,x=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,ee=(r,e,t)=>e in r?Fe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Te=(r,e)=>{for(var t in e||(e={}))ke.call(e,t)&&ee(r,t,e[t]);if(x)for(var t of x(e))Me.call(e,t)&&ee(r,t,e[t]);return r};function re(r,e){const t=r.substring(e.length+1).split(".")[0];return parseInt(t,10)}function te(r,e,t,s){if(e===void 0)return t;const o=`${String(r)}`;let c=t;s===-1&&(c=ce(`${o}.${e}`,c));const i=Te({},c),a=new Set;return Object.entries(c).filter(([u])=>{if(!u.startsWith(`${o}.`))return!1;const d=re(u,o);return Number.isNaN(d)?!1:d>=e}).forEach(([u,d])=>{const _=re(u,o),b=u.replace(`${o}.${_}`,`${o}.${_+s}`);i[b]=d,a.add(b),a.has(u)||delete i[u]}),i}function Le(r,e,t,s){const o=j(r,s);if(!Array.isArray(o))return s;const c=[...o];return c.splice(typeof t=="number"?t:c.length,0,e),D(r,c,s)}function ne(r,e){const t=Object.keys(r);if(typeof e=="string"){const s=t.filter(o=>o.startsWith(`${e}.`));return r[e]||s.some(o=>r[o])||!1}return t.some(s=>r[s])}function Ke(r){return e=>{if(!e)r(e);else if(typeof e=="function")r(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:t}=e;t instanceof HTMLInputElement?t.type==="checkbox"?r(t.checked):r(t.value):(t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&r(t.value)}else r(e)}}var We=Object.defineProperty,qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,se=(r,e,t)=>e in r?We(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e)=>{for(var t in e||(e={}))Be.call(e,t)&&se(r,t,e[t]);if(oe)for(var t of oe(e))Xe.call(e,t)&&se(r,t,e[t]);return r},F=(r,e)=>qe(r,He(e));function Je({initialValues:r={},initialErrors:e={},initialDirty:t={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:c=!1,validateInputOnBlur:i=!1,transformValues:a=d=>d,validate:u}={}){const[d,_]=p.useState(s),[b,h]=p.useState(t),[y,m]=p.useState(r),[L,E]=p.useState(k(e)),V=p.useRef(r),K=n=>{V.current=n},W=p.useCallback(()=>_({}),[]),fe=n=>{const f=n?P(P({},y),n):y;K(f),h({})},N=p.useCallback(n=>E(f=>k(typeof n=="function"?n(f):n)),[]),R=p.useCallback(()=>E({}),[]),q=p.useCallback(()=>{m(r),R(),K(r),h({}),W()},[]),$=p.useCallback((n,f)=>N(l=>F(P({},l),{[n]:f})),[]),A=p.useCallback(n=>N(f=>{if(typeof n!="string")return f;const l=P({},f);return delete l[n],l}),[]),I=p.useCallback(n=>h(f=>{if(typeof n!="string")return f;const l=ce(n,f);return delete l[n],l}),[]),H=p.useCallback((n,f)=>{const l=J(n,c);I(n),_(O=>F(P({},O),{[n]:!0})),m(O=>{const S=D(n,f,O);if(l){const g=C(n,u,S);g.hasError?$(n,g.error):A(n)}return S}),!l&&o&&$(n,null)},[]),le=p.useCallback(n=>{m(f=>{const l=typeof n=="function"?n(f):n;return P(P({},f),l)}),o&&R()},[]),ue=p.useCallback((n,f)=>{I(n),m(l=>Ae(n,f,l)),E(l=>Ne(n,f,l))},[]),ae=p.useCallback((n,f)=>{I(n),m(l=>Re(n,f,l)),E(l=>te(n,f,l,-1))},[]),pe=p.useCallback((n,f,l)=>{I(n),m(O=>Le(n,f,l,O)),E(O=>te(n,l,O,1))},[]),B=p.useCallback(()=>{const n=T(u,y);return E(n.errors),n},[y,u]),de=p.useCallback(n=>{const f=C(n,u,y);return f.hasError?$(n,f.error):A(n),f},[y,u]),ye=(n,{type:f="input",withError:l=!0,withFocus:O=!0}={})=>{const g={onChange:Ke(v=>H(n,v))};return l&&(g.error=L[n]),f==="checkbox"?g.checked=j(n,y):g.value=j(n,y),O&&(g.onFocus=()=>_(v=>F(P({},v),{[n]:!0})),g.onBlur=()=>{if(J(n,i)){const v=C(n,u,y);v.hasError?$(n,v.error):A(n)}}),g},Oe=(n,f)=>l=>{l==null||l.preventDefault();const O=B();O.hasErrors?f==null||f(O.errors,y,l):n==null||n(a(y),l)},_e=n=>a(n||y),be=p.useCallback(n=>{n.preventDefault(),q()},[]),ge=n=>{if(n){const l=j(n,b);if(typeof l=="boolean")return l;const O=j(n,y),S=j(n,V.current);return!X(O,S)}return Object.keys(b).length>0?ne(b):!X(y,V.current)},je=p.useCallback(n=>ne(d,n),[d]),Pe=p.useCallback(n=>n?!C(n,u,y).hasError:!T(u,y).hasErrors,[y,u]);return{values:y,errors:L,setValues:le,setErrors:N,setFieldValue:H,setFieldError:$,clearFieldError:A,clearErrors:R,reset:q,validate:B,validateField:de,reorderListItem:ue,removeListItem:ae,insertListItem:pe,getInputProps:ye,onSubmit:Oe,onReset:be,isDirty:ge,isTouched:je,setTouched:_,setDirty:h,resetTouched:W,resetDirty:fe,isValid:Pe,getTransformedValues:_e}}export{Ge as c,Je as u};
